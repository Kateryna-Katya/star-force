{"version":3,"file":"index.js","sources":["../src/js/swipper.js"],"sourcesContent":["import Swiper from 'swiper';\nimport 'swiper/css';\n\nconst swiperConfigs = [\n  {\n    selector: '.ship-swiper',\n    slideClass: 'ship-swiper-slide',\n    wrapperClass: 'ship-swiper-wrapper',\n  },\n  {\n    selector: '.play-swiper',\n    slideClass: 'play-swiper-slide',\n    wrapperClass: 'play-swiper-wrapper',\n    paginationItemSelector: '.play-pagination-item',\n  },\n  {\n    selector: '.user-swiper',\n    slideClass: 'user-swiper-slide',\n    wrapperClass: 'user-swiper-wrapper',\n    paginationItemSelector: '.user-pagination-item',\n  },\n  {\n    selector: '.gameplay-swiper',\n    slideClass: 'gameplay-swiper-slide',\n    wrapperClass: 'gameplay-swiper-wrapper',\n    paginationItemSelector: '.gameplay-pagination-item',\n  }\n];\n\nconst swiperInstances = {};\n\nfunction initSwipers() {\n  const screenWidth = window.innerWidth;\n\n  swiperConfigs.forEach(config => {\n    const container = document.querySelector(config.selector);\n    if (!container) return;\n\n    const id = config.selector;\n\n    // Destroy existing swiper if exists\n    if (swiperInstances[id]) {\n      swiperInstances[id].destroy(true, true);\n      delete swiperInstances[id];\n      clearPagination(config.paginationItemSelector);\n    }\n\n    const isProgressSwiper = config.selector === '.user-swiper';\n\n    if (isProgressSwiper) {\n      // Progress bar swiper (user-swiper)\n      if (screenWidth < 1439) {\n        const swiper = new Swiper(id, {\n          slidesPerView: 1,\n          spaceBetween: 10,\n          loop: true,\n          slideClass: config.slideClass,\n          wrapperClass: config.wrapperClass,\n          direction: 'horizontal',\n          on: {\n            init: function () {\n              updatePagination(config.paginationItemSelector, this.realIndex);\n            },\n            slideChange: function () {\n              updatePagination(config.paginationItemSelector, this.realIndex);\n            },\n          },\n        });\n\n        swiperInstances[id] = swiper;\n\n        const paginationItems = document.querySelectorAll(config.paginationItemSelector);\n        paginationItems.forEach((item, index) => {\n          item.addEventListener('click', () => {\n            swiper.slideToLoop(index);\n          });\n        });\n      } else {\n        const swiper = new Swiper(id, {\n          slidesPerView: 3,\n          spaceBetween: 20,\n          loop: true,\n          slideClass: config.slideClass,\n          wrapperClass: config.wrapperClass,\n          direction: 'horizontal',\n          allowTouchMove: true,\n          on: {\n            init: function () {\n              updateProgressBar(this);\n            },\n            slideChange: function () {\n              updateProgressBar(this);\n            },\n          },\n        });\n\n        swiperInstances[id] = swiper;\n      }\n    } else {\n      // Other swipers (advantages, play, gameplay)\n      if (screenWidth < 1439) {\n        const swiper = new Swiper(id, {\n          slidesPerView: 1.15,\n          spaceBetween: 20,\n          loop: true,\n          slideClass: config.slideClass,\n          wrapperClass: config.wrapperClass,\n          direction: 'horizontal',\n          on: {\n            init: function () {\n              updatePagination(config.paginationItemSelector, this.realIndex);\n            },\n            slideChange: function () {\n              updatePagination(config.paginationItemSelector, this.realIndex);\n            },\n          },\n        });\n\n        swiperInstances[id] = swiper;\n\n        const paginationItems = document.querySelectorAll(config.paginationItemSelector);\n        paginationItems.forEach((item, index) => {\n          item.addEventListener('click', () => {\n            swiper.slideToLoop(index);\n          });\n        });\n      } else {\n        // Destroy swiper on desktop for non-progress ones\n        if (swiperInstances[id]) {\n          swiperInstances[id].destroy(true, true);\n          delete swiperInstances[id];\n          clearPagination(config.paginationItemSelector);\n        }\n      }\n    }\n  });\n}\n\nfunction updatePagination(paginationSelector, activeIndex) {\n  const items = document.querySelectorAll(paginationSelector);\n  items.forEach((item, index) => {\n    item.classList.toggle('active', index === activeIndex);\n  });\n}\n\nfunction clearPagination(paginationSelector) {\n  const items = document.querySelectorAll(paginationSelector);\n  items.forEach(item => item.classList.remove('active'));\n}\n\nfunction updateProgressBar(swiper) {\n  if (!swiper) return;\n\n  let progressBar;\n  if (swiper.el.classList.contains('user-swiper')) {\n    progressBar = document.querySelector('.pag_bar');\n  }\n\n  if (!progressBar) return;\n\n  const total = swiper.slides.length - (swiper.loopedSlides * 0.1);\n  const currentIndex = swiper.realIndex;\n  const percent = ((currentIndex + 1) / total) * 100;\n  progressBar.style.width = `${percent}%`;\n}\n\n// Init\ndocument.addEventListener('DOMContentLoaded', initSwipers);\nwindow.addEventListener('resize', initSwipers);"],"names":["swiperConfigs","swiperInstances","initSwipers","screenWidth","config","id","clearPagination","swiper","Swiper","updatePagination","item","index","updateProgressBar","paginationSelector","activeIndex","progressBar","total","percent"],"mappings":"0xBAGA,MAAMA,EAAgB,CACpB,CACE,SAAU,eACV,WAAY,oBACZ,aAAc,qBACf,EACD,CACE,SAAU,eACV,WAAY,oBACZ,aAAc,sBACd,uBAAwB,uBACzB,EACD,CACE,SAAU,eACV,WAAY,oBACZ,aAAc,sBACd,uBAAwB,uBACzB,EACD,CACE,SAAU,mBACV,WAAY,wBACZ,aAAc,0BACd,uBAAwB,2BAC5B,CACA,EAEMC,EAAkB,CAAE,EAE1B,SAASC,GAAc,CACrB,MAAMC,EAAc,OAAO,WAE3BH,EAAc,QAAQI,GAAU,CAE9B,GAAI,CADc,SAAS,cAAcA,EAAO,QAAQ,EACxC,OAEhB,MAAMC,EAAKD,EAAO,SAWlB,GARIH,EAAgBI,CAAE,IACpBJ,EAAgBI,CAAE,EAAE,QAAQ,GAAM,EAAI,EACtC,OAAOJ,EAAgBI,CAAE,EACzBC,EAAgBF,EAAO,sBAAsB,GAGtBA,EAAO,WAAa,eAI3C,GAAID,EAAc,KAAM,CACtB,MAAMI,EAAS,IAAIC,EAAOH,EAAI,CAC5B,cAAe,EACf,aAAc,GACd,KAAM,GACN,WAAYD,EAAO,WACnB,aAAcA,EAAO,aACrB,UAAW,aACX,GAAI,CACF,KAAM,UAAY,CAChBK,EAAiBL,EAAO,uBAAwB,KAAK,SAAS,CAC/D,EACD,YAAa,UAAY,CACvBK,EAAiBL,EAAO,uBAAwB,KAAK,SAAS,CAC/D,CACF,CACX,CAAS,EAEDH,EAAgBI,CAAE,EAAIE,EAEE,SAAS,iBAAiBH,EAAO,sBAAsB,EAC/D,QAAQ,CAACM,EAAMC,IAAU,CACvCD,EAAK,iBAAiB,QAAS,IAAM,CACnCH,EAAO,YAAYI,CAAK,CACpC,CAAW,CACX,CAAS,CACT,KAAa,CACL,MAAMJ,EAAS,IAAIC,EAAOH,EAAI,CAC5B,cAAe,EACf,aAAc,GACd,KAAM,GACN,WAAYD,EAAO,WACnB,aAAcA,EAAO,aACrB,UAAW,aACX,eAAgB,GAChB,GAAI,CACF,KAAM,UAAY,CAChBQ,EAAkB,IAAI,CACvB,EACD,YAAa,UAAY,CACvBA,EAAkB,IAAI,CACvB,CACF,CACX,CAAS,EAEDX,EAAgBI,CAAE,EAAIE,CAC9B,SAGUJ,EAAc,KAAM,CACtB,MAAMI,EAAS,IAAIC,EAAOH,EAAI,CAC5B,cAAe,KACf,aAAc,GACd,KAAM,GACN,WAAYD,EAAO,WACnB,aAAcA,EAAO,aACrB,UAAW,aACX,GAAI,CACF,KAAM,UAAY,CAChBK,EAAiBL,EAAO,uBAAwB,KAAK,SAAS,CAC/D,EACD,YAAa,UAAY,CACvBK,EAAiBL,EAAO,uBAAwB,KAAK,SAAS,CAC/D,CACF,CACX,CAAS,EAEDH,EAAgBI,CAAE,EAAIE,EAEE,SAAS,iBAAiBH,EAAO,sBAAsB,EAC/D,QAAQ,CAACM,EAAMC,IAAU,CACvCD,EAAK,iBAAiB,QAAS,IAAM,CACnCH,EAAO,YAAYI,CAAK,CACpC,CAAW,CACX,CAAS,CACT,MAEYV,EAAgBI,CAAE,IACpBJ,EAAgBI,CAAE,EAAE,QAAQ,GAAM,EAAI,EACtC,OAAOJ,EAAgBI,CAAE,EACzBC,EAAgBF,EAAO,sBAAsB,EAIvD,CAAG,CACH,CAEA,SAASK,EAAiBI,EAAoBC,EAAa,CAC3C,SAAS,iBAAiBD,CAAkB,EACpD,QAAQ,CAACH,EAAMC,IAAU,CAC7BD,EAAK,UAAU,OAAO,SAAUC,IAAUG,CAAW,CACzD,CAAG,CACH,CAEA,SAASR,EAAgBO,EAAoB,CAC7B,SAAS,iBAAiBA,CAAkB,EACpD,QAAQH,GAAQA,EAAK,UAAU,OAAO,QAAQ,CAAC,CACvD,CAEA,SAASE,EAAkBL,EAAQ,CACjC,GAAI,CAACA,EAAQ,OAEb,IAAIQ,EAKJ,GAJIR,EAAO,GAAG,UAAU,SAAS,aAAa,IAC5CQ,EAAc,SAAS,cAAc,UAAU,GAG7C,CAACA,EAAa,OAElB,MAAMC,EAAQT,EAAO,OAAO,OAAUA,EAAO,aAAe,GAEtDU,GADeV,EAAO,UACK,GAAKS,EAAS,IAC/CD,EAAY,MAAM,MAAQ,GAAGE,CAAO,GACtC,CAGA,SAAS,iBAAiB,mBAAoBf,CAAW,EACzD,OAAO,iBAAiB,SAAUA,CAAW"}